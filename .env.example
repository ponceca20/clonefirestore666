# Environment Configuration Example
# Copy this file to .env and update the values for your environment

# ===== APPLICATION CONFIGURATION =====
# Environment: development, staging, production
APP_ENV=development
APP_NAME=firestore-clone
APP_VERSION=1.0.0

# Server Configuration
PORT=8080
HOST=localhost
READ_TIMEOUT=10s
WRITE_TIMEOUT=10s
SHUTDOWN_TIMEOUT=30s

# ===== LOGGING CONFIGURATION =====
# Log level: trace, debug, info, warn, error, fatal, panic
LOG_LEVEL=info
# Log format: json, text
LOG_FORMAT=text
# Log output: stdout, stderr, file
LOG_OUTPUT=stdout

# ===== DATABASE CONFIGURATION =====
# MongoDB Connection
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=firestore_clone
MONGODB_TIMEOUT=10s
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=5

# Database Connection Pool
DB_MAX_OPEN_CONNS=100
DB_MAX_IDLE_CONNS=25
DB_CONN_MAX_LIFETIME=5m

# ===== FIRESTORE CONFIGURATION =====
# Default Project and Database IDs
DEFAULT_PROJECT_ID=my-project
DEFAULT_DATABASE_ID=(default)

# Firestore Limits
MAX_DOCUMENT_SIZE=1048576
MAX_COLLECTION_DEPTH=100
MAX_DOCUMENT_FIELDS=1000
MAX_ARRAY_SIZE=1000
MAX_BATCH_SIZE=500
MAX_TRANSACTION_SIZE=500

# Firestore Timeouts
FIRESTORE_TIMEOUT=30s
QUERY_TIMEOUT=60s
TRANSACTION_TIMEOUT=60s
BATCH_TIMEOUT=60s

# ===== AUTHENTICATION CONFIGURATION =====
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRE_HOURS=24
JWT_ISSUER=firestore-clone
JWT_AUDIENCE=firestore-clone-users

# Refresh Token Configuration
REFRESH_TOKEN_EXPIRE_HOURS=168
REFRESH_TOKEN_SECRET=your-super-secret-refresh-token-key

# Session Configuration
SESSION_TIMEOUT=30m
MAX_SESSIONS_PER_USER=10

# ===== AUTHORIZATION CONFIGURATION =====
# Default Admin User
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# Permission System
ENABLE_RBAC=true
DEFAULT_USER_ROLE=user
SUPERADMIN_ROLE=superadmin

# ===== SECURITY CONFIGURATION =====
# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_HEADERS=Origin,Content-Type,Accept,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_DURATION=1m
RATE_LIMIT_BURST=10

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_HELMET=true

# ===== WEBSOCKET CONFIGURATION =====
# WebSocket Settings
WS_ENABLE=true
WS_PATH=/ws
WS_MAX_CONNECTIONS=1000
WS_READ_BUFFER_SIZE=1024
WS_WRITE_BUFFER_SIZE=1024
WS_PING_INTERVAL=30s
WS_PING_TIMEOUT=10s

# Real-time Features
ENABLE_REALTIME=true
REALTIME_BUFFER_SIZE=1000

# ===== CACHING CONFIGURATION =====
# Redis Configuration (optional)
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# Cache Settings
CACHE_ENABLE=true
CACHE_TTL=1h
CACHE_MAX_SIZE=1000

# ===== MONITORING CONFIGURATION =====
# Health Check
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s

# Metrics
ENABLE_METRICS=true
METRICS_PATH=/metrics
METRICS_PORT=9090

# Profiling (development only)
ENABLE_PPROF=false
PPROF_PORT=6060

# ===== EXTERNAL SERVICES =====
# Email Service (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@firestore-clone.com

# File Storage (optional)
STORAGE_TYPE=local
STORAGE_PATH=./uploads
MAX_UPLOAD_SIZE=10MB

# ===== DEVELOPMENT CONFIGURATION =====
# Development Features
ENABLE_SWAGGER=true
ENABLE_DEBUG_ROUTES=false
ENABLE_PROFILER=false

# Testing
TEST_DATABASE=firestore_clone_test
ENABLE_TEST_ROUTES=false

# ===== BACKUP CONFIGURATION =====
# Backup Settings
BACKUP_ENABLE=false
BACKUP_INTERVAL=24h
BACKUP_RETENTION=7d
BACKUP_PATH=./backups

# ===== MULTI-TENANT CONFIGURATION =====
# Tenant Settings
ENABLE_MULTI_TENANT=true
DEFAULT_TENANT_ID=default
MAX_TENANTS=1000
TENANT_ISOLATION=database

# ===== EVENT BUS CONFIGURATION =====
# Event Processing
EVENT_BUS_ENABLE=true
EVENT_BUFFER_SIZE=1000
EVENT_WORKER_COUNT=10
EVENT_RETRY_ATTEMPTS=3
EVENT_RETRY_DELAY=1s

# ===== PERFORMANCE TUNING =====
# Go Runtime
GOMAXPROCS=0
GOGC=100
GOMEMLIMIT=1GiB

# Application Limits
MAX_REQUEST_SIZE=10MB
MAX_RESPONSE_SIZE=10MB
MAX_CONCURRENT_REQUESTS=1000

# Timeouts
CONTEXT_TIMEOUT=30s
GRACEFUL_SHUTDOWN_TIMEOUT=30s

# ===== REDIS CONFIGURATION =====
# Redis Configuration (for distributed realtime events)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=2
REDIS_ENABLE_TLS=false
REDIS_STREAM_MAX_LENGTH=10000

# Realtime Configuration
WEBSOCKET_PATH=/ws/v1/listen
CLIENT_SEND_CHANNEL_BUFFER=10

# CORS Configuration
CORS_ALLOW_ORIGINS=http://localhost:3000,https://tudominio.com
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=Origin,Content-Type,Accept,Authorization,X-Requested-With
CORS_ALLOW_CREDENTIALS=true